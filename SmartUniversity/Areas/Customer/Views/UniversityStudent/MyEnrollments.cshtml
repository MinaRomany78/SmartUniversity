@model IEnumerable<Entities.ViewModel.RegisterCoursesVM>

@{
    ViewData["Title"] = "My Enrollments";

    // Colors for classroom-style cards
    var colors = new string[]
    {
        "#1a73e8", "#0f9d58", "#ea4335", "#9c27b0", "#009688", "#ff9800", "#5f6368"
    };
    int i = 0;
}

<style>
    body {
        background-color: #f8f9fa;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .sidebar {
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        height: 100vh;
        position: sticky;
        top: 0;
    }

    .nav-link {
        color: #5f6368;
        border-radius: 0 25px 25px 0;
        margin: 4px 0;
        transition: all 0.2s;
    }

        .nav-link:hover, .nav-link.active {
            background-color: #e8f0fe;
            color: #1a73e8;
        }

        .nav-link i {
            margin-right: 10px;
        }

    .classroom-card {
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        background: #fff;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

        .classroom-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

    .classroom-card-header {
        height: 100px;
        color: white;
        padding: 16px;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
    }

    .course-code {
        font-size: 0.85rem;
        opacity: 0.9;
        margin-bottom: 4px;
    }

    .course-name {
        font-size: 1.2rem;
        font-weight: 600;
        margin: 0;
    }

    .classroom-card-body {
        padding: 16px;
        flex: 1;
    }

    .teacher-section {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
    }

    .teacher-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 18px;
        margin-right: 12px;
        flex-shrink: 0;
    }

    .teacher-info {
        flex-grow: 1;
    }

    .teacher-name {
        font-size: 0.9rem;
        margin: 0;
        color: #5f6368;
    }

    .teacher-label {
        font-size: 0.75rem;
        color: #9aa0a6;
    }

    .course-details {
        border-top: 1px solid #f1f3f4;
        padding-top: 12px;
    }

    .detail-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
    }

    .detail-label {
        color: #5f6368;
        font-size: 0.85rem;
    }

    .detail-value {
        font-size: 0.85rem;
        font-weight: 500;
    }

    .status-badge {
        padding: 4px 10px;
        border-radius: 16px;
        font-size: 0.75rem;
        font-weight: 500;
    }

    .card-actions {
        display: flex;
        justify-content: flex-end;
        padding: 12px 16px;
        border-top: 1px solid #f1f3f4;
    }

    .action-btn {
        background: none;
        border: none;
        color: #5f6368;
        cursor: pointer;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        padding: 6px 12px;
        border-radius: 6px;
        transition: all 0.2s;
    }

        .action-btn:hover {
            background-color: #f1f3f4;
            color: #1a73e8;
        }

        .action-btn i {
            margin-right: 6px;
        }

    .page-title {
        color: #3c4043;
        font-weight: 600;
        margin-bottom: 24px;
        padding-bottom: 12px;
        border-bottom: 1px solid #e8eaed;
    }

    .collapse-toggle:after {
        content: '▼';
        font-size: 0.7rem;
        margin-left: 8px;
        transition: transform 0.3s;
    }

    .collapse-toggle.collapsed:after {
        transform: rotate(-90deg);
    }
</style>

<div class="row">
    <!-- Sidebar -->
    <div class="col-lg-2 col-md-3 sidebar p-0">
        <div class="p-3">
            <h5 class="mb-4 ps-2">Menu</h5>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="#">
                        <i class="bi bi-house-door"></i> Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="bi bi-calendar-event"></i> Calendar
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link collapse-toggle" data-bs-toggle="collapse" href="#enrolledCourses" role="button">
                        <i class="bi bi-book"></i> Enrolled Courses
                    </a>
                    <ul class="collapse ps-3 list-unstyled" id="enrolledCourses">
                        @foreach (var course in Model)
                        {
                            <li class="nav-item">
                                <a class="nav-link small text-secondary" href="#">
                                    @course.Name
                                </a>
                            </li>
                        }
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <i class="bi bi-list-task"></i> Tasks
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="col-lg-10 col-md-9 p-4">
        <h3 class="page-title">My Enrollments</h3>
        <div class="row">
            @foreach (var course in Model)
            {
                var color = colors[i % colors.Length];
                var teacherName = "Dr. Example Teacher"; // Replace with model value if available
                var teacherInitial = teacherName.Split(' ')[1].Substring(0, 1);

                <div class="col-xl-3 col-lg-4 col-md-6 mb-4">
                    <div class="classroom-card">
                        <div class="classroom-card-header" style="background: @color;">
                            <div class="course-code">@course.CourseId</div>
                            <h5 class="course-name">@course.Name</h5>
                        </div>
                        <div class="classroom-card-body">
                            <div class="teacher-section">
                                <div class="teacher-avatar" style="background: @color;">@teacherInitial</div>
                                <div class="teacher-info">
                                    <div class="teacher-label">Instructor</div>
                                    <div class="teacher-name">@teacherName</div>
                                </div>
                            </div>
                            <div class="course-details">
                                <div class="detail-item">
                                    <span class="detail-label">Credits:</span>
                                    <span class="detail-value">@course.Credits</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Status:</span>
                                    <span class="badge status-badge @(course.IsPaid ? "bg-success" : "bg-danger")">
                                        @(course.IsPaid ? "Paid" : "Not Paid")
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="action-btn">
                                <i class="bi bi-box-arrow-in-right"></i> Enter
                            </button>
                        </div>
                    </div>
                </div>

                i++;
            }
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
